<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>The limitations of TRIM() in T‑SQL when cleaning/migrating data | Telen's Blog</title>
<meta name=keywords content><meta name=description content="In T-SQL, the TRIM() function only removes spaces (ASCII 32) and cannot remove hidden characters (such as newline characters, carriage returns, tabs, or some emojis). These characters might cause issues during data cleaning (or migration), for example:


Data imported may contain carriage return (CHAR(13)) or newline (CHAR(10)).


Data copied and pasted may contain tab characters (CHAR(9)).


Specially formatted strings may contain invisible Unicode control characters, such as certain emojis.


Common hidden characters include:"><meta name=author content><link rel=canonical href=https://blog.nelettech.com/posts/2025/04/migrating_data/><link crossorigin=anonymous href=/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.nelettech.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.nelettech.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.nelettech.com/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.nelettech.com/apple-touch-icon.png><link rel=mask-icon href=https://blog.nelettech.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://blog.nelettech.com/posts/2025/04/migrating_data/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://blog.nelettech.com/posts/2025/04/migrating_data/"><meta property="og:site_name" content="Telen's Blog"><meta property="og:title" content="The limitations of TRIM() in T‑SQL when cleaning/migrating data"><meta property="og:description" content="In T-SQL, the TRIM() function only removes spaces (ASCII 32) and cannot remove hidden characters (such as newline characters, carriage returns, tabs, or some emojis). These characters might cause issues during data cleaning (or migration), for example:
Data imported may contain carriage return (CHAR(13)) or newline (CHAR(10)).
Data copied and pasted may contain tab characters (CHAR(9)).
Specially formatted strings may contain invisible Unicode control characters, such as certain emojis.
Common hidden characters include:"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-02-22T20:33:00+00:00"><meta property="article:modified_time" content="2025-02-22T20:33:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="The limitations of TRIM() in T‑SQL when cleaning/migrating data"><meta name=twitter:description content="In T-SQL, the TRIM() function only removes spaces (ASCII 32) and cannot remove hidden characters (such as newline characters, carriage returns, tabs, or some emojis). These characters might cause issues during data cleaning (or migration), for example:


Data imported may contain carriage return (CHAR(13)) or newline (CHAR(10)).


Data copied and pasted may contain tab characters (CHAR(9)).


Specially formatted strings may contain invisible Unicode control characters, such as certain emojis.


Common hidden characters include:"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.nelettech.com/posts/"},{"@type":"ListItem","position":2,"name":"The limitations of TRIM() in T‑SQL when cleaning/migrating data","item":"https://blog.nelettech.com/posts/2025/04/migrating_data/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"The limitations of TRIM() in T‑SQL when cleaning/migrating data","name":"The limitations of TRIM() in T‑SQL when cleaning\/migrating data","description":"In T-SQL, the TRIM() function only removes spaces (ASCII 32) and cannot remove hidden characters (such as newline characters, carriage returns, tabs, or some emojis). These characters might cause issues during data cleaning (or migration), for example:\nData imported may contain carriage return (CHAR(13)) or newline (CHAR(10)).\nData copied and pasted may contain tab characters (CHAR(9)).\nSpecially formatted strings may contain invisible Unicode control characters, such as certain emojis.\nCommon hidden characters include:\n","keywords":[],"articleBody":"In T-SQL, the TRIM() function only removes spaces (ASCII 32) and cannot remove hidden characters (such as newline characters, carriage returns, tabs, or some emojis). These characters might cause issues during data cleaning (or migration), for example:\nData imported may contain carriage return (CHAR(13)) or newline (CHAR(10)).\nData copied and pasted may contain tab characters (CHAR(9)).\nSpecially formatted strings may contain invisible Unicode control characters, such as certain emojis.\nCommon hidden characters include:\nType Description CHAR Code Space Standard Space CHAR(32) Tab Tab CHAR(9) Line Feed LF (Line Feed) CHAR(10) Carriage Return CR (Carriage Return) CHAR(13) No-Break Space No-Break Space CHAR(160) How to solve those problems ?\n1. Use Replace(). SELECT REPLACE(REPLACE(REPLACE(ColumnName, CHAR(13), ''), CHAR(10), ''), CHAR(9), '') AS CleanedColumn FROM TableName; 2. Use Translate() This requires SQL Server 2017 or later, and allows replacing multiple characters at once.\nSELECT TRANSLATE(ColumnName, CHAR(9) + CHAR(10) + CHAR(13), ' ') AS CleanedColumn FROM TableName; Combine with Replace function could be better.\n3. Use Patindex() SELECT ColumnName FROM TableName WHERE PATINDEX('%[' + CHAR(9) + CHAR(10) + CHAR(13) + ']%', ColumnName) \u003e 0; If return result, then it contains Tab, Enter or LF.\n4. Use Like. SELECT ColumnName FROM TableName WHERE ColumnName LIKE '%'+CHAR(13)+'%' OR ColumnName LIKE '%'+CHAR(10)+'%'; Or, if your source file comes from a UNIX-like system, opening it in Notepad will show the following symbols (in contrast to text files from Windows): If you often need to handle these hidden characters, the best approach is to write a function.\nIn summary, when performing data migration or data cleaning—or even during application debugging—hidden characters are one of the issues you need to consider.\n","wordCount":"270","inLanguage":"en","datePublished":"2025-02-22T20:33:00Z","dateModified":"2025-02-22T20:33:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.nelettech.com/posts/2025/04/migrating_data/"},"publisher":{"@type":"Organization","name":"Telen's Blog","logo":{"@type":"ImageObject","url":"https://blog.nelettech.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.nelettech.com/ accesskey=h title="Telen's Blog (Alt + H)">Telen's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://blog.nelettech.com/profilemode/ title=Profilemode aria-label=Profilemode>Profilemode</a></li></ul></div></div><ul id=menu><li><a href=https://blog.nelettech.com/archives title=Archive><span>Archive</span></a></li><li><a href=https://blog.nelettech.com/search/ title=Search><span>Search</span></a></li><li><a href=https://blog.nelettech.com/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">The limitations of TRIM() in T‑SQL when cleaning/migrating data</h1><div class=post-meta><span title='2025-02-22 20:33:00 +0000 UTC'>February 22, 2025</span></div></header><div class=post-content><p><strong>In T-SQL</strong>, the <strong>TRIM()</strong> function only removes spaces (ASCII 32) and cannot remove hidden characters (such as newline characters, carriage returns, tabs, or some emojis). These characters might cause issues during data cleaning (or migration), for example:</p><ul><li><p>Data imported may contain carriage return (CHAR(13)) or newline (CHAR(10)).</p></li><li><p>Data copied and pasted may contain tab characters (CHAR(9)).</p></li><li><p>Specially formatted strings may contain invisible Unicode control characters, such as certain emojis.</p></li></ul><p>Common hidden characters include:</p><table><thead><tr><th style=text-align:left>Type</th><th style=text-align:left>Description</th><th style=text-align:left>CHAR Code</th></tr></thead><tbody><tr><td style=text-align:left>Space</td><td style=text-align:left>Standard Space</td><td style=text-align:left>CHAR(32)</td></tr><tr><td style=text-align:left>Tab</td><td style=text-align:left>Tab</td><td style=text-align:left>CHAR(9)</td></tr><tr><td style=text-align:left>Line Feed</td><td style=text-align:left>LF (Line Feed)</td><td style=text-align:left>CHAR(10)</td></tr><tr><td style=text-align:left>Carriage Return</td><td style=text-align:left>CR (Carriage Return)</td><td style=text-align:left>CHAR(13)</td></tr><tr><td style=text-align:left>No-Break Space</td><td style=text-align:left>No-Break Space</td><td style=text-align:left>CHAR(160)</td></tr></tbody></table><p><em><strong>How</strong></em> to solve those problems ?</p><h5 id=1-use-replace>1. Use Replace().<a hidden class=anchor aria-hidden=true href=#1-use-replace>#</a></h5><pre tabindex=0><code>SELECT REPLACE(REPLACE(REPLACE(ColumnName, CHAR(13), &#39;&#39;), CHAR(10), &#39;&#39;), CHAR(9), &#39;&#39;) AS CleanedColumn
FROM TableName;
</code></pre><h5 id=2-use-translate>2. Use Translate()<a hidden class=anchor aria-hidden=true href=#2-use-translate>#</a></h5><p>This requires SQL Server 2017 or later, and allows replacing multiple characters at once.</p><pre tabindex=0><code>SELECT TRANSLATE(ColumnName, CHAR(9) + CHAR(10) + CHAR(13), &#39;   &#39;) AS CleanedColumn
FROM TableName;
</code></pre><p>Combine with Replace function could be better.</p><h5 id=3-use-patindex>3. Use Patindex()<a hidden class=anchor aria-hidden=true href=#3-use-patindex>#</a></h5><pre tabindex=0><code>SELECT ColumnName
FROM TableName
WHERE PATINDEX(&#39;%[&#39; + CHAR(9) + CHAR(10) + CHAR(13) + &#39;]%&#39;, ColumnName) &gt; 0;
</code></pre><p>If return result, then it contains Tab, Enter or LF.</p><h5 id=4-use-like>4. Use Like.<a hidden class=anchor aria-hidden=true href=#4-use-like>#</a></h5><pre tabindex=0><code>SELECT ColumnName 
FROM TableName 
WHERE ColumnName LIKE &#39;%&#39;+CHAR(13)+&#39;%&#39; OR ColumnName LIKE &#39;%&#39;+CHAR(10)+&#39;%&#39;;
</code></pre><p>Or, if your source file comes from a UNIX-like system, opening it in Notepad will show the following symbols (in contrast to text files from Windows):
<img alt=Win loading=lazy src=/Windows.webp>
<img alt=Unix loading=lazy src=/Unix.webp></p><p>If you often need to handle these hidden characters, the best approach is to write a function.</p><p><em><strong>In summary</strong></em>, when performing data migration or data cleaning—or even during application debugging—hidden characters are one of the issues you need to consider.</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://blog.nelettech.com/>Telen's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>